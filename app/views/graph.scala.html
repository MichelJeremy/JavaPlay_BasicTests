@(userInfo: Map[String, String], list: List[String])

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>GET OUT OF HERE STALKER</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
        <script src="@routes.Assets.versioned("javascripts/hello.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/amcharts/amcharts.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/amcharts/serial.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/amcharts/themes/light.js")" type="text/javascript"></script>
    </head>
    
    <body>

        <h1>User infos</h1>
        Email: @userInfo.get("email")<br>
        Password: @userInfo.get("password")<br><br>
        <h1> Graph</h1>
        <div id="chartdiv" style="width: 100%; height: 500px;"></div>
        <!-- Create an empty Object array and append as much unmutable array to it as there are values in the cvs document-->
        <script type="text/javascript">
            // Initiation of empty Object array chartData
            var chartData = [];
            var firstDate = new Date("2015-03-25");
            //firstDate.setDate(firstDate.getDate());
            
            @for(l <- 0 until list.size) {
                var newDate = new Date("2015-03-25");
                //newDate.setDate(newDate.getDate()+@(l+1));
                var tonsOfBananas = @list.get(l);
                
                chartData.push({
                    date: newDate,
                    tonsOfBananas: tonsOfBananas
                });
            }
            
            // Initiate chart creation
            // amChart configuration
            var chart = AmCharts.makeChart("chartdiv", {
                "type": "serial",
                "theme": "light",
                "marginRight": 80,
                "autoMarginOffset": 20,
                "marginTop": 7,
                "dataProvider": chartData,
                "valueAxes": [{
                    "axisAlpha": 0.2,
                    "dashLength": 1,
                    "position": "left"
                }],
                "mousewheelZoomEnabled": true,
                "graphs": [{
                    "id": "g1",
                    "balloonText": "[[value]]",
                    "bullet": "round",
                    "bulletBorderAlpha": 1,
                    "bulletColor": "#FFFFFF",
                    "hideBulletsCount": 50,
                    "title": "red line",
                    "valueField": "tonsOfBananas",
                    "useLineColorForBulletBorder": true,
                    "balloon":{
                        "drop":true
                    }
                }],
                "chartScrollbar": {
                    "autoGridCount": true,
                    "graph": "g1",
                    "scrollbarHeight": 40
                },
                "chartCursor": {
                   "limitToGraph":"g1"
                },
                "categoryField": "date",
                "categoryAxis": {
                    "dataDateFormat": "YYYY",
                    "parseDates": true,
                    "axisColor": "#DADADA",
                    "dashLength": 1,
                    "minorGridEnabled": true
                },
                "export": {
                    "enabled": true
                }
            });
            
            chart.addListener("rendered", zoomChart);
            zoomChart();
            
            //definition of zoom function for supah dupah zoom
            function zoomChart() {
                chart.zoomToIndexes(chartData.length - 40, chartData.length - 1);
            }                
        </script>
        
 
    </body>
</html>
